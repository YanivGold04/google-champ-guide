<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gmail - Outlook to Gmail Transition</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --background: #f9fafb; --foreground: #111827; --card: #ffffff; --primary: #3b82f6;
            --secondary: #10b981; --muted: #f3f4f6; --muted-foreground: #6b7280;
            --border: #e5e7eb; --radius: 0.75rem;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--background); color: var(--foreground); line-height: 1.6;
            min-height: 100vh; padding: 2rem 0;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        .back-button {
            display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem;
            background: transparent; border: none; color: var(--foreground); cursor: pointer;
            font-size: 1rem; margin-bottom: 2rem; transition: opacity 0.3s ease;
        }
        .back-button:hover { opacity: 0.7; }
        .tool-header {
            display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;
        }
        .tool-header-icon { color: var(--primary); width: 48px; height: 48px; }
        .tool-header h1 { font-size: 2.5rem; font-weight: 700; }
        .tool-header p { font-size: 1.25rem; color: var(--muted-foreground); }
        .page-grid { display: grid; grid-template-columns: 1fr 300px; gap: 2rem; }
        .main-content { display: flex; flex-direction: column; gap: 2rem; }
        .card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: var(--radius); padding: 1.5rem;
        }
        .card-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; }
        .card-description { color: var(--muted-foreground); margin-bottom: 1rem; }
        .lab-section { margin-top: 1.5rem; }
        .lab-header {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;
        }
        .lab-status { font-size: 0.875rem; font-weight: 600; }
        .lab-status.completed { color: var(--secondary); }
        .lab-status.not-started { color: var(--muted-foreground); }
        .video-container, .iframe-container {
            border-radius: 1rem; overflow: hidden; background: white;
        }
        .video-container video { width: 100%; height: auto; display: block; }
        .iframe-container iframe { width: 100%; height: 650px; border: none; display: block; }
        .sidebar { position: sticky; top: 2rem; height: fit-content; }
        .tips-list { list-style: none; padding: 0; }
        .tips-list li { padding: 0.5rem 0; color: var(--muted-foreground); font-size: 0.875rem; }
        .completion-check {
            background: var(--card); border: 1px solid var(--border);
            border-radius: var(--radius); padding: 1.5rem;
        }
        .completion-list { display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1rem; }
        .completion-item { display: flex; align-items: center; gap: 0.5rem; }
        .completion-item i { width: 20px; height: 20px; }
        .completion-success {
            color: var(--secondary); padding: 1rem; border-top: 1px solid var(--border);
            margin-top: 1rem; display: flex; align-items: center; gap: 0.5rem;
        }
        .btn {
            display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem;
            border-radius: var(--radius); font-weight: 600; cursor: pointer;
            transition: all 0.3s ease; border: none; font-size: 1rem;
        }
        .btn-primary {
            background-color: var(--primary); color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
        }
        .btn-primary:hover {
            transform: translateY(-2px); box-shadow: 0 8px 20px rgba(59, 130, 246, 0.35);
        }
        @media (max-width: 768px) { .page-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <button class="back-button" onclick="navigateHome()">
            <i data-lucide="arrow-left"></i>
            Back to Home
        </button>

        <div class="tool-header">
            <i data-lucide="mail" class="tool-header-icon"></i>
            <div>
                <h1>Gmail</h1>
                <p>Outlook → Gmail</p>
            </div>
        </div>

        <div class="page-grid">
            <div class="main-content">
                <div class="card">
                    <h2 class="card-title">What is Gmail?</h2>
                    <p class="card-description">
                        Gmail is Google's email service that offers a clean, powerful interface with advanced search capabilities,
                        conversation threading, and seamless integration with other Google Workspace tools. Unlike Outlook's folder
                        structure, Gmail uses labels that can be applied to multiple emails, making organization more flexible.
                    </p>
                    <a href="https://mail.google.com/mail/u/0/#inbox" class="btn btn-primary" target="_blank" style="margin-top: 1rem; display: inline-flex; align-items: center; gap: 0.5rem;">
                        <i data-lucide="external-link" style="width: 16px; height: 16px;"></i>
                        Open Gmail
                    </a>
                </div>

                <div class="card">
                    <h2 class="card-title">Composing and Sending Emails</h2>
                    <p class="card-description">Learn how to compose and send an email in Gmail</p>
                    
                    <div class="video-container">
                        <video src="../public/images/gmail/compose/compose.mp4" autoplay loop muted playsinline preload="auto"></video>
                    </div>

                    <div class="lab-section">
                        <div class="lab-header">
                            <h4>Try it yourself - Interactive Lab</h4>
                            <span class="lab-status not-started" id="status-compose">❌ Not started</span>
                        </div>
                        <div class="iframe-container">
                            <iframe src="../public/images/gmail/compose/compose_lab.html" title="Gmail Compose Lab"></iframe>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Moving Emails to Trash</h2>
                    <p class="card-description">Learn how to delete emails and manage your trash folder</p>
                    
                    <div class="video-container">
                        <video src="../public/images/gmail/trash/trash.mp4" autoplay loop muted playsinline preload="auto"></video>
                    </div>

                    <div class="lab-section">
                        <div class="lab-header">
                            <h4>Try it yourself - Interactive Lab</h4>
                            <span class="lab-status not-started" id="status-trash">❌ Not started</span>
                        </div>
                        <div class="iframe-container">
                            <iframe src="../public/images/gmail/trash/trash_lab.html" title="Gmail Trash Lab"></iframe>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Searching Emails</h2>
                    <p class="card-description">Learn how to use Gmail's powerful search features</p>
                    
                    <div class="video-container">
                        <video src="../public/images/gmail/search/search.mp4" autoplay loop muted playsinline preload="auto"></video>
                    </div>

                    <div class="lab-section">
                        <div class="lab-header">
                            <h4>Try it yourself - Interactive Lab</h4>
                            <span class="lab-status not-started" id="status-search">❌ Not started</span>
                        </div>
                        <div class="iframe-container">
                            <iframe src="../public/images/gmail/search/search_lab.html" title="Gmail Search Lab"></iframe>
                        </div>
                    </div>
                </div>

                <div class="completion-check">
                    <h3 class="card-title">Lab Completion Status</h3>
                    <div class="completion-list">
                        <div class="completion-item" data-lab-id="compose">
                            <i data-lucide="x-circle"></i>
                            <span>Compose Lab</span>
                        </div>
                        <div class="completion-item" data-lab-id="trash">
                            <i data-lucide="x-circle"></i>
                            <span>Trash Lab</span>
                        </div>
                        <div class="completion-item" data-lab-id="search">
                            <i data-lucide="x-circle"></i>
                            <span>Search Lab</span>
                        </div>
                    </div>
                    <div class="completion-success" id="completion-success" style="display: none;">
                        <i data-lucide="check-circle-2"></i>
                        <span>✅ All labs for Gmail completed!</span>
                    </div>
                    <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="returnToHome('gmail')">
                        Return to Main Page
                    </button>
                </div>
            </div>

            <div class="sidebar">
                <div class="card">
                    <h3 class="card-title">Tips & Tricks</h3>
                    <div>
                        <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Keyboard Shortcuts</h4>
                        <ul class="tips-list">
                            <li>• 'c' - Compose new email</li>
                            <li>• 'r' - Reply to email</li>
                            <li>• 'a' - Reply all</li>
                            <li>• 'f' - Forward email</li>
                            <li>• '/' - Search emails</li>
                            <li>• 'e' - Archive email</li>
                            <li>• '#' - Delete email</li>
                        </ul>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Search Operators</h4>
                        <ul class="tips-list">
                            <li>• from:name - Find emails from someone</li>
                            <li>• to:name - Find emails to someone</li>
                            <li>• has:attachment - Find emails with attachments</li>
                            <li>• is:unread - Find unread emails</li>
                            <li>• after:2024/01/01 - Find emails after a date</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function navigateHome() { window.location.href = 'index.html'; }
        
        function getCompletedLabs(platform) {
            const stored = sessionStorage.getItem(`${platform}-labs-completed`);
            return stored ? new Set(JSON.parse(stored)) : new Set();
        }
        
        function markLabComplete(platform, labId) {
            const completedLabs = getCompletedLabs(platform);
            completedLabs.add(labId);
            sessionStorage.setItem(`${platform}-labs-completed`, JSON.stringify([...completedLabs]));
            
            updateLabStatus(platform, labId);
            updateCompletionCheck(platform);
        }
        
        function updateLabStatus(platform, labId) {
            const statusElement = document.getElementById(`status-${labId}`);
            if (statusElement) {
                statusElement.textContent = '✅ Completed';
                statusElement.classList.remove('not-started');
                statusElement.classList.add('completed');
            }
        }
        
        function updateCompletionCheck(platform) {
            const completedLabs = getCompletedLabs(platform);
            const labItems = document.querySelectorAll('.completion-item');
            
            labItems.forEach((item) => {
                const labId = item.dataset.labId;
                const icon = item.querySelector('i');
                
                if (completedLabs.has(labId)) {
                    icon.setAttribute('data-lucide', 'check-circle-2');
                    icon.style.color = 'var(--secondary)';
                } else {
                    icon.setAttribute('data-lucide', 'x-circle');
                    icon.style.color = 'var(--muted-foreground)';
                }
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
            
            const expectedLabs = document.querySelectorAll('.completion-item').length;
            if (completedLabs.size >= expectedLabs) {
                const successElement = document.getElementById('completion-success');
                if (successElement) {
                    successElement.style.display = 'flex';
                }
            }
        }
        
        function markPlatformComplete(platform) {
            const completions = JSON.parse(sessionStorage.getItem('platform-completions') || '{}');
            completions[platform] = true;
            sessionStorage.setItem('platform-completions', JSON.stringify(completions));
        }
        
        function returnToHome(platform) {
            markPlatformComplete(platform);
            navigateHome();
        }
        
        lucide.createIcons();
        updateCompletionCheck('gmail');
        
        window.addEventListener('message', function(event) {
            if (event.data?.type === 'lab-complete' && event.data?.lab) {
                const labName = event.data.lab;
                const labMap = {
                    'gmail-compose': 'compose',
                    'gmail-trash': 'trash',
                    'gmail-search': 'search'
                };
                const mappedLab = labMap[labName] || labName;
                markLabComplete('gmail', mappedLab);
            }
        });
    </script>
</body>
</html>